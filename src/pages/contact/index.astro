---
import BaseLayout from '../../layouts/BaseLayout.astro';
---

<BaseLayout
  title="Contact - Start Your Growth Journey"
  description="Get in touch to explore how Fibonacci Growth methodology can transform your project"
>
  <div class="min-h-screen bg-spiral-dark">
    <!-- Header -->
    <header class="border-b border-gray-800 bg-spiral-dark/95 backdrop-blur-sm sticky top-0 z-10">
      <div class="container mx-auto px-4 py-6">
        <h1 class="text-3xl font-bold text-spiral-light mb-2">
          Contacto
        </h1>
        <p class="text-gray-400">
          Inicia tu viaje hacia el crecimiento exponencial
        </p>
        <div class="flex gap-4 mt-4">
          <a
            href="/"
            class="inline-block px-4 py-2 bg-spiral-accent text-white rounded hover:bg-spiral-accent/80 transition-colors"
          >
            ‚Üê Spiral Experience
          </a>
          <a
            href="/linear"
            class="inline-block px-4 py-2 bg-spiral-dark border border-gray-700 text-spiral-light rounded hover:border-spiral-accent transition-colors"
          >
            Linear Navigation
          </a>
        </div>
      </div>
    </header>

    <!-- Content -->
    <main class="container mx-auto px-4 py-12">
      <div class="max-w-4xl mx-auto">
        <div class="grid md:grid-cols-2 gap-12">
          <!-- Left Column: Info -->
          <div>
            <h2 class="text-2xl font-bold text-spiral-light mb-6">
              Trabajemos Juntos
            </h2>
            
            <p class="text-gray-400 leading-relaxed mb-8">
              No vendemos tecnolog√≠a, entregamos certeza y ROI. Cada proyecto comienza con una conversaci√≥n 
              profunda sobre tu ADN de negocio, tus desaf√≠os y tu visi√≥n de crecimiento.
            </p>

            <!-- Value Props -->
            <div class="space-y-6 mb-8">
              <div class="flex items-start gap-4">
                <div class="text-2xl">üéØ</div>
                <div>
                  <h3 class="font-semibold text-spiral-light mb-1">Enfoque en ROI</h3>
                  <p class="text-sm text-gray-400">
                    Cada soluci√≥n se justifica con an√°lisis financiero claro y m√©tricas de impacto.
                  </p>
                </div>
              </div>

              <div class="flex items-start gap-4">
                <div class="text-2xl">ü§ù</div>
                <div>
                  <h3 class="font-semibold text-spiral-light mb-1">Socios, no proveedores</h3>
                  <p class="text-sm text-gray-400">
                    Nos sentamos a tu mesa como extensi√≥n de tu equipo, no como un vendor externo.
                  </p>
                </div>
              </div>

              <div class="flex items-start gap-4">
                <div class="text-2xl">‚ö°</div>
                <div>
                  <h3 class="font-semibold text-spiral-light mb-1">Arquitectura Multi-Agente</h3>
                  <p class="text-sm text-gray-400">
                    16 especialistas trabajando en paralelo para entrega r√°pida sin comprometer calidad.
                  </p>
                </div>
              </div>

              <div class="flex items-start gap-4">
                <div class="text-2xl">‚ôæÔ∏è</div>
                <div>
                  <h3 class="font-semibold text-spiral-light mb-1">Crecimiento Infinito</h3>
                  <p class="text-sm text-gray-400">
                    Metodolog√≠a basada en Fibonacci garantiza escalabilidad sin l√≠mites arquitect√≥nicos.
                  </p>
                </div>
              </div>
            </div>

            <!-- Contact Methods -->
            <div class="border-t border-gray-800 pt-8">
              <h3 class="font-semibold text-spiral-light mb-4">Otras formas de contacto</h3>
              <div class="space-y-3 text-sm">
                <div class="flex items-center gap-3 text-gray-400">
                  <span>üìß</span>
                  <span>hello@workalogico.com</span>
                </div>
                <div class="flex items-center gap-3 text-gray-400">
                  <span>üí¨</span>
                  <span>WhatsApp: +52 1 XXX XXX XXXX</span>
                </div>
                <div class="flex items-center gap-3 text-gray-400">
                  <span>üê¶</span>
                  <a href="#" class="hover:text-spiral-accent transition-colors">@workalogico</a>
                </div>
                <div class="flex items-center gap-3 text-gray-400">
                  <span>üíº</span>
                  <a href="#" class="hover:text-spiral-accent transition-colors">LinkedIn</a>
                </div>
              </div>
            </div>
          </div>

          <!-- Right Column: Form -->
          <div>
            <div class="bg-spiral-dark/50 border border-gray-700 rounded-lg p-8">
              <h3 class="text-xl font-bold text-spiral-light mb-6">
                Env√≠anos un mensaje
              </h3>

              <form id="contact-form" class="space-y-5" novalidate>
                <!-- Name -->
                <div>
                  <label for="name" class="block text-sm font-medium text-gray-300 mb-2">
                    Nombre completo <span class="text-red-400">*</span>
                  </label>
                  <input
                    type="text"
                    id="name"
                    name="name"
                    required
                    class="w-full px-4 py-3 bg-spiral-dark border border-gray-700 rounded text-spiral-light focus:outline-none focus:ring-2 focus:ring-spiral-accent focus:border-transparent transition-all"
                    placeholder="Tu nombre"
                  />
                  <span class="error-msg hidden text-red-400 text-xs mt-1"></span>
                </div>

                <!-- Email -->
                <div>
                  <label for="email" class="block text-sm font-medium text-gray-300 mb-2">
                    Email <span class="text-red-400">*</span>
                  </label>
                  <input
                    type="email"
                    id="email"
                    name="email"
                    required
                    class="w-full px-4 py-3 bg-spiral-dark border border-gray-700 rounded text-spiral-light focus:outline-none focus:ring-2 focus:ring-spiral-accent focus:border-transparent transition-all"
                    placeholder="tu@email.com"
                  />
                  <span class="error-msg hidden text-red-400 text-xs mt-1"></span>
                </div>

                <!-- Project Type -->
                <div>
                  <label for="project-type" class="block text-sm font-medium text-gray-300 mb-2">
                    Tipo de proyecto
                  </label>
                  <select
                    id="project-type"
                    name="projectType"
                    class="w-full px-4 py-3 bg-spiral-dark border border-gray-700 rounded text-spiral-light focus:outline-none focus:ring-2 focus:ring-spiral-accent focus:border-transparent transition-all"
                  >
                    <option value="">Selecciona una opci√≥n</option>
                    <option value="software">Software / SaaS</option>
                    <option value="branding">Branding / Identity</option>
                    <option value="audiovisual">Audiovisual Production</option>
                    <option value="consulting">Strategic Consulting</option>
                    <option value="startup">Startup Growth</option>
                    <option value="events">Event Experiences</option>
                    <option value="other">Otro</option>
                  </select>
                </div>

                <!-- Message -->
                <div>
                  <label for="message" class="block text-sm font-medium text-gray-300 mb-2">
                    Mensaje <span class="text-red-400">*</span>
                  </label>
                  <textarea
                    id="message"
                    name="message"
                    required
                    rows="5"
                    class="w-full px-4 py-3 bg-spiral-dark border border-gray-700 rounded text-spiral-light focus:outline-none focus:ring-2 focus:ring-spiral-accent focus:border-transparent resize-none transition-all"
                    placeholder="Cu√©ntanos sobre tu proyecto y objetivos de crecimiento..."
                  ></textarea>
                  <span class="error-msg hidden text-red-400 text-xs mt-1"></span>
                </div>

                <!-- Submit -->
                <button
                  type="submit"
                  class="w-full px-8 py-4 bg-spiral-accent text-white rounded-lg font-medium hover:bg-spiral-accent/80 transition-colors focus:outline-none focus:ring-2 focus:ring-spiral-accent focus:ring-offset-2 focus:ring-offset-spiral-dark disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  Enviar mensaje
                </button>

                <!-- Status -->
                <div id="form-status" class="hidden text-center text-sm"></div>
              </form>

              <p class="text-xs text-gray-500 mt-6 text-center">
                Al enviar este formulario, aceptas que procesemos tu informaci√≥n para responder a tu consulta.
              </p>
            </div>
          </div>
        </div>

        <!-- FAQ Section -->
        <div class="mt-20 border-t border-gray-800 pt-12">
          <h2 class="text-2xl font-bold text-spiral-light mb-8 text-center">
            Preguntas Frecuentes
          </h2>
          
          <div class="grid md:grid-cols-2 gap-6">
            <div class="bg-spiral-dark/50 border border-gray-700 rounded-lg p-6">
              <h3 class="font-semibold text-spiral-light mb-2">
                ¬øCu√°nto tiempo toma un proyecto t√≠pico?
              </h3>
              <p class="text-sm text-gray-400">
                Depende de la complejidad, pero un ciclo completo de 4 fases suele tomar 8-16 semanas. 
                La arquitectura multi-agente acelera entrega sin sacrificar calidad.
              </p>
            </div>

            <div class="bg-spiral-dark/50 border border-gray-700 rounded-lg p-6">
              <h3 class="font-semibold text-spiral-light mb-2">
                ¬øTrabajan con startups o solo enterprise?
              </h3>
              <p class="text-sm text-gray-400">
                Ambos. Aplicamos la misma metodolog√≠a pero con "alcances, no presupuestos". 
                Startups pueden comenzar con fases puntuales y escalar progresivamente.
              </p>
            </div>

            <div class="bg-spiral-dark/50 border border-gray-700 rounded-lg p-6">
              <h3 class="font-semibold text-spiral-light mb-2">
                ¬øC√≥mo garantizan el ROI?
              </h3>
              <p class="text-sm text-gray-400">
                Cada proyecto comienza con definici√≥n de m√©tricas de √©xito y an√°lisis financiero. 
                Validamos ROI en cada fase antes de avanzar a la siguiente.
              </p>
            </div>

            <div class="bg-spiral-dark/50 border border-gray-700 rounded-lg p-6">
              <h3 class="font-semibold text-spiral-light mb-2">
                ¬øQu√© pasa despu√©s del lanzamiento?
              </h3>
              <p class="text-sm text-gray-400">
                La fase Scale incluye optimizaci√≥n continua, pero puedes contratar soporte extendido 
                o retainers mensuales para nuevas iteraciones de la espiral.
              </p>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="border-t border-gray-800 mt-16 py-8">
      <div class="container mx-auto px-4 text-center text-gray-400">
        <p>¬© 2024 Workal√≥gico. Built with Astro & the Golden Ratio.</p>
      </div>
    </footer>
  </div>
</BaseLayout>

<script>
  const form = document.getElementById('contact-form');
  const statusDiv = document.getElementById('form-status');

  const showStatus = (message, isError = false) => {
    if (!statusDiv) return;
    statusDiv.textContent = message;
    statusDiv.className = `text-center text-sm ${isError ? 'text-red-400' : 'text-green-400'}`;
    statusDiv.classList.remove('hidden');
  };

  const clearErrors = () => {
    form?.querySelectorAll('.error-msg').forEach((el) => {
      el.classList.add('hidden');
    });
    form?.querySelectorAll('input, textarea').forEach((el) => {
      el.classList.remove('border-red-400');
    });
  };

  const showError = (fieldName, message) => {
    const field = form?.querySelector(`[name="${fieldName}"]`);
    const errorEl = field?.parentElement?.querySelector('.error-msg');
    
    if (field && errorEl) {
      field.classList.add('border-red-400');
      errorEl.classList.remove('hidden');
      errorEl.textContent = message;
    }
  };

  const validateForm = () => {
    clearErrors();
    let isValid = true;

    const name = form?.querySelector('[name="name"]')?.value.trim();
    const email = form?.querySelector('[name="email"]')?.value.trim();
    const message = form?.querySelector('[name="message"]')?.value.trim();

    if (!name) {
      showError('name', 'El nombre es requerido');
      isValid = false;
    }

    if (!email) {
      showError('email', 'El email es requerido');
      isValid = false;
    } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
      showError('email', 'Por favor ingresa un email v√°lido');
      isValid = false;
    }

    if (!message) {
      showError('message', 'El mensaje es requerido');
      isValid = false;
    }

    return isValid;
  };

  form?.addEventListener('submit', async (e) => {
    e.preventDefault();

    if (!validateForm()) return;

    const submitBtn = form?.querySelector('button[type="submit"]');
    const originalText = submitBtn.textContent;
    
    submitBtn.disabled = true;
    submitBtn.textContent = 'Enviando...';

    try {
      // Mock submission for now
      await new Promise(resolve => setTimeout(resolve, 1000));
      
      showStatus('¬°Gracias! Hemos recibido tu mensaje. Te contactaremos pronto.');
      form?.reset();
      
      setTimeout(() => {
        statusDiv?.classList.add('hidden');
      }, 5000);
    } catch (error) {
      console.error('Form submission error:', error);
      showStatus('Lo sentimos, hubo un error. Por favor intenta de nuevo.', true);
    } finally {
      submitBtn.disabled = false;
      submitBtn.textContent = originalText;
    }
  });
</script>

